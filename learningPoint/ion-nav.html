<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Tauhid</title>
  <link rel="stylesheet" href="https://unpkg.com/@ionic/core@latest/css/ionic.bundle.css" />
  <script src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons.js"></script>
  <script src="https://unpkg.com/@ionic/core@latest/dist/ionic.js"></script>
</head>
<body>
  <ion-app>
    <ion-nav root="nav-home"></ion-nav>
  </ion-app>
  <script>
    techs = [
      {
        'title':'Angular',
        'icon':'angular',
        'description':'A powerful Javascript framework for building single page apps. Angular is open source, and maintained by Google.',
        'color':'#E63135'
      },
      {
        'title':'CSS3',
        'icon':'css3',
        'description':'The latest version of cascading stylesheets - the styling language of the web !',
        'color':'#0CA9EA'
      },
      {
        'title':'CSS3',
        'icon':'css3',
        'description':'The latest version of cascading stylesheets - the styling language of the web !',
        'color':'#0CA9EA'
      },
      {
        'title':'CSS3',
        'icon':'css3',
        'description':'The latest version of cascading stylesheets - the styling language of the web !',
        'color':'#0CA9EA'
      },
      {
        'title':'CSS3',
        'icon':'css3',
        'description':'The latest version of cascading stylesheets - the styling language of the web !',
        'color':'#0CA9EA'
      },
      {
        'title':'CSS3',
        'icon':'css3',
        'description':'The latest version of cascading stylesheets - the styling language of the web !',
        'color':'#0CA9EA'
      },
      {
        'title':'CSS3',
        'icon':'css3',
        'description':'The latest version of cascading stylesheets - the styling language of the web !',
        'color':'#0CA9EA'
      },
      {
        'title':'CSS3',
        'icon':'css3',
        'description':'The latest version of cascading stylesheets - the styling language of the web !',
        'color':'#0CA9EA'
      },
      {
        'title':'CSS3',
        'icon':'css3',
        'description':'The latest version of cascading stylesheets - the styling language of the web !',
        'color':'#0CA9EA'
      }
    ];

    customElements.define('nav-home', class NavHome extends HTMLElement{
      connectedCallback(){
        this.innerHTML = `
        <ion-header>
          <ion-toolbar color="primary">
            <ion-title>Tauhid</ion-title>
          </ion-toolbar>
        </ion-header>
      <ion-content>
        <ion-list>
          ${techs.map(tech =>
            `
            <ion-item button onclick="showDetail('${tech.title}')">
              <ion-icon slot="start" name="logo-${tech.icon}" style="color: ${tech.color};"></ion-icon>
              <ion-label>
                <h3>${tech.title}</h3>
              </ion-label>
            </ion-item>
          `).join('\n')}
        </ion-list>      
      </ion-content>
        `;
      }
    });

    const nav = document.querySelector('ion-nav');
    function showDetail(title){
      const tech = techs.find(tech => tech.title === title);
      nav.push('nav-detail',{tech});
    }

    customElements.define('nav-detail',class NavDetail extends HTMLElement{
      connectedCallback(){
        this.innerHTML = `
          <ion-header translucent>
            <ion-toolbar>
              <ion-buttons slot="start">
                <ion-back-button defaultHref="/"></ion-back-button>
              </ion-buttons>
              <ion-title>${this.tech.title}</ion-title>
            </ion-toolbar>
          </ion-header>
          <ion-content fullscreen class="ion-padding">
            <ion-icon name="logo-${this.tech.icon}" style="color: ${this.tech.color};" size="large"></ion-icon>
            <p>${this.tech.description}</p>
          </ion-content>
        `;
      }
    });
  </script>

</body>
</html>