<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Tauhid</title>
  <link rel="stylesheet" href="https://unpkg.com/@ionic/core@latest/css/ionic.bundle.css" />
  <script src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons.js"></script>
  <script type="module" src="https://cdn.jsdelivr.net/npm/@ionic/core@4.7.4/dist/ionic/ionic.esm.js"></script>
  <script nomodule src="https://cdn.jsdelivr.net/npm/@ionic/core@4.7.4/dist/ionic/ionic.js"></script>

  <!-- <script src="https://unpkg.com/@ionic/core@latest/dist/ionic.js"></script> -->
</head>
<body>
  <ion-app>
    <ion-header>
      <ion-toolbar color="primary">
        <ion-title>Tauhid</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content>
      <ion-button expand="block">Show Modal</ion-button>
    </ion-content>
    
    <ion-modal-controller></ion-modal-controller>
    <!-- <ion-header>
      <ion-toolbar color="primary">
        <ion-title>Tauhid</ion-title>
      </ion-toolbar>
    </ion-header> -->
    <!-- <ion-content> -->
      <!-- <ion-button expand="block">Show Modal</ion-button> -->
    <!--
      <ion-header>
      <ion-toolbar>
        <ion-title>Modal Content</ion-title>
        <ion-buttons slot="end">
          <ion-button onclick="dismissModal()">Close</ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>
    <ion-content>
      <ion-list>
        <ion-item>
          <ion-avatar slot="start">
            <ion-img src="https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y" />
          </ion-avatar>
          <ion-label>
            <h2>Gollum</h2>
            <p>Gollum little hobbitses !</p>
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-avatar slot="start">
            <ion-img src="https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y" />
          </ion-avatar>
          <ion-label>
            <h2>Frodo</h2>
            <p>Frodo little hobbitses !</p>
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-avatar slot="start">
            <ion-img src="https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y" />
          </ion-avatar>
          <ion-label>
            <h2>Samwise</h2>
            <p>Samwise little hobbitses !</p>
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-avatar slot="start">
            <ion-img src="https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y" />
          </ion-avatar>
          <ion-label>
            <h2>Frodo</h2>
            <p>Frodo little hobbitses !</p>
          </ion-label>
        </ion-item>
      </ion-list>

    </ion-content>
    -->
    
  </ion-app>
  <script>

customElements.define('modal-content',class ModalContent extends HTMLElement{
      connectedCollback(){
        this.innerHTML = `
        <ion-header>
      <ion-toolbar>
        <ion-title>Modal Content</ion-title>
        <ion-buttons slot="end">
          <ion-button onclick="dismissModal()">Close</ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>
    <ion-content>
      <ion-list>
        <ion-item>
          <ion-avatar slot="start">
            <ion-img src="https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y" />
          </ion-avatar>
          <ion-label>
            <h2>Gollum</h2>
            <p>Gollum little hobbitses !</p>
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-avatar slot="start">
            <ion-img src="https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y" />
          </ion-avatar>
          <ion-label>
            <h2>Frodo</h2>
            <p>Frodo little hobbitses !</p>
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-avatar slot="start">
            <ion-img src="https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y" />
          </ion-avatar>
          <ion-label>
            <h2>Samwise</h2>
            <p>Samwise little hobbitses !</p>
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-avatar slot="start">
            <ion-img src="https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y" />
          </ion-avatar>
          <ion-label>
            <h2>Frodo</h2>
            <p>Frodo little hobbitses !</p>
          </ion-label>
        </ion-item>
      </ion-list>

    </ion-content>
        
        `;
      }
    });





    let currentModal = null;
    const controller = document.querySelector("ion-modal-controller");
    const button = document.querySelector('ion-button');
    button.addEventListener('click',createModal);

    function createModal(){
      controller.create({
        component:'modal-content'
      }).then(modal =>{
        modal.present();
        currentModal = modal;
      });
    }

    function dismissModal(){
      if(currentModal){
        currentModal.dismiss().then(()=>{ currentModal = null; });
      }
    }

  </script>
</body>
</html>